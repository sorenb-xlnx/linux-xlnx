&amba {
	/* 114.285MHz reference crystal (X9 on ZCU102 rev. D1) for Si5324 clock for HDMI */
	refhdmi: refhdmi {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <114285000>;
	};

	/* IIC controller with Si5324 clock generator and DP159 retimer for HDMI TX */
	axi_iic_0: i2c@a0020000 {
		status = "okay";
		compatible = "xlnx,xps-iic-2.00.a";
		interrupt-parent = <&gic>;
		interrupts = <0 94 4>;
		reg = <0x0 0xa0020000 0x0 0x10000>;
		clocks = <&axi_lite_clk>;
		#address-cells = <1>;
		#size-cells = <0>;

		/* Si5324 i2c clock generator */
		si5324: clock-generator@68 {
			status = "okay";
			compatible = "silabs,si5324";
			reg = <0x68>;
			#address-cells = <1>;
			#size-cells = <0>;
			#clock-cells = <1>;

			/* input clock(s); the XTAL is hard-wired on the ZCU102 board */
			clocks = <&refhdmi>;
			clock-names = "xtal";

			/* output clocks */
			clk0 {
				reg = <0>;
				/* HDMI TX reference clock output frequency */
				clock-frequency = <27000000>;
			};
			/* this Si5324 output is not connected on the ZCU102 board
			clk1 {
				reg = <1>;
			};
			*/
		};

		/* DP159 exposes a virtual CCF clock. Upon .set_rate(), it adapts its retiming/driving behaviour */
		dp159: hdmi-retimer@5e {
			status = "okay";
			compatible = "ti,dp159";
			reg = <0x5e>;
			#address-cells = <1>;
			#size-cells = <0>;
			#clock-cells = <0>;
		};
	};

	v_mix_0: v_mix@b00c0000 {
		compatible = "xlnx,v-mix-1.00.a";
		interrupt-parent = <&gic>;
		interrupts = <0 105 4>;
		reg = <0x0 0xb00c0000 0x0 0x40000>;

		xlnx,bpc = <8>;
		xlnx,ppc = <2>;
		xlnx,num-layers = <4>;

		mixer_master_layer: layer_0 {
			xlnx,layer-id = <0>;
			xlnx,vformat = "bgr888";
			xlnx,layer-width = <3840>;
			xlnx,layer-height = <2160>;
		};
		mixer_overlay_1: layer_1 {
			xlnx,layer-id = <1>;
			xlnx,vformat = "yuv422";
			xlnx,layer-alpha;
		};
		mixer_overlay_2: layer_2 {
			xlnx,layer-id = <2>;
			xlnx,vformat = "yuv422";
			xlnx,layer-alpha;
		};
		mixer_overlay_3: layer_3 {
			xlnx,layer-id = <3>;
			xlnx,vformat = "argb8888";
			xlnx,layer-alpha;
			xlnx,layer-primary;
		};
	};

	hdmi_txss: hdmi_txss@a0080000 {
		compatible = "xlnx,v-hdmi-tx-ss-2.0";
		reg = <0x0 0xa0080000 0x0 0x20000>;
		interrupts = <0 93 4>;
		interrupt-parent = <&gic>;
		clocks = <&axi_lite_clk>, <&axi_stream_clk>, <&dp159>;
		clock-names = "axi-lite", "video", "retimer-clk";
		phy-names = "hdmi-phy0", "hdmi-phy1", "hdmi-phy2";
		phys = <&vphy_lane0 0 1 1 1>, <&vphy_lane1 0 1 1 1>, <&vphy_lane2 0 1 1 1>;

		xlnx,input-pixels-per-clock = <2>;
		xlnx,max-bits-per-component = <8>;
		xlnx,output-fmt = "rgb";
		xlnx,hdmi-tx-offset = <0x00000>;
		xlnx,vtc-offset = <0x10000>;
	};

	xilinx_drm_hdmi {
		compatible = "xlnx,drm";
		status = "okay";
		clocks = <&si5324 0>;

		xlnx,mixer = <&v_mix_0>;
		xlnx,mixer-reset-gpios = <&gpio 83 1>;
		xlnx,encoder-slave = <&hdmi_txss>;
		xlnx,connector-type = "HDMIA";

		planes {
			xlnx,pixel-format = "bgr888";
			plane0 {
				xlnx,mixer-layer = <&mixer_master_layer>;
			};
			plane1 {
				xlnx,mixer-layer = <&mixer_overlay_1>;
			};
			plane2 {
				xlnx,mixer-layer = <&mixer_overlay_2>;
			};
			plane3 {
				xlnx,mixer-layer = <&mixer_overlay_3>;
			};
		};
	};
};
